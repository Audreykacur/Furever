{"ast":null,"code":"var _jsxFileName = \"/Users/sethstephens/Desktop/fureverv4 2/furever/Client/src/components/ChatFeature/ChatDisplay.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport Chat from './Chat';\nimport ChatInput from './ChatInput';\nimport axios from 'axios';\nimport { useState, useEffect } from \"react\";\nimport './ChatFeature.scss';\n\n// The code above defines a functional React component called ChatDisplay. The component accepts two props - user and selectedMatch. \n// The component contains two state variables - matchMessages and selectedMatchMessages - which are both set to null by default. \n// The component defines a method called getDataMessages, which makes a GET request to the 'http://localhost:8888/messages' endpoint. \n// The request includes query parameters that specify the userId and correspondingUserId. If the request is successful, \n// he response data is stored in the matchMessages state variable.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatDisplay = _ref => {\n  _s();\n  let {\n    user,\n    selectedMatch\n  } = _ref;\n  const userIdentification = user === null || user === void 0 ? void 0 : user.user_id;\n  const matchedUserId = selectedMatch === null || selectedMatch === void 0 ? void 0 : selectedMatch.user_id;\n  const [matchChatMessages, setmatchMessages] = useState(null);\n  const [selectedUserMessages, setselectedMatchMessages] = useState(null);\n  const getDataMessages = async () => {\n    try {\n      const response = await axios.get('http://localhost:8888/messages', {\n        params: {\n          userId: userIdentification,\n          correspondingUserId: matchedUserId\n        }\n      });\n      setmatchMessages(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // The code above is fetching data from a local server. It is making a GET request to the 'messages' endpoint. \n  // The 'params' object is being used to pass in the 'userId' and 'correspondingUserId'. These two values are being used to filter \n  // the data that is being returned from the server. The 'setselectedMatchMessages' function is being used to store the data \n  // that is being returned from the server.\n\n  const getselectedMatchMessages = async () => {\n    try {\n      const response = await axios.get('http://localhost:8888/messages', {\n        params: {\n          userId: matchedUserId,\n          correspondingUserId: userIdentification\n        }\n      });\n      setselectedMatchMessages(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    getDataMessages();\n    getselectedMatchMessages();\n  }, []);\n  const messages = [];\n\n  // takes in two parameters, matchMessages and selectedMatchMessages. The function then iterates through each object in the \n  // matchMessages array and creates a new object with four key-value pairs. The keys are name, img, message, and timestamp. \n  // The values for name and img are set to the first_name and url properties of the user object, respectively. The value for \n  // message is set to the message property of the message object, and the value for timestamp is set to the timestamp property of \n  // the message object. The function does the same thing for the selectedMatchMessages array. Finally, the function sorts the messages \n  // in descending order based on the timestamp.\n\n  matchChatMessages === null || matchChatMessages === void 0 ? void 0 : matchChatMessages.forEach(message => {\n    const formattedMessage = {};\n    formattedMessage['name'] = user === null || user === void 0 ? void 0 : user.first_name;\n    formattedMessage['img'] = user === null || user === void 0 ? void 0 : user.url;\n    formattedMessage['message'] = message.message;\n    formattedMessage['timestamp'] = message.timestamp;\n    messages.push(formattedMessage);\n  });\n  selectedUserMessages === null || selectedUserMessages === void 0 ? void 0 : selectedUserMessages.forEach(message => {\n    const formattedMessage = {};\n    formattedMessage['name'] = selectedMatch === null || selectedMatch === void 0 ? void 0 : selectedMatch.first_name;\n    formattedMessage['img'] = selectedMatch === null || selectedMatch === void 0 ? void 0 : selectedMatch.url;\n    formattedMessage['message'] = message.message;\n    formattedMessage['timestamp'] = message.timestamp;\n    messages.push(formattedMessage);\n  });\n  const reverseMessages = messages === null || messages === void 0 ? void 0 : messages.sort((a, b) => a.timestamp.localeCompare(b.timestamp));\n\n  // The code below creates a ChatInput component and a Chat component. The ChatInput component has props for a user, selectedMatch, \n  // getMatchedMessages, and getselectedMatchMessages. The Chat component has a prop for descendingOrderMessages.\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Chat, {\n      descendingOrderMessages: reverseMessages\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ChatInput, {\n      user: user,\n      selectedMatch: selectedMatch,\n      getMatchedMessages: getDataMessages,\n      getselectedMatchMessages: getselectedMatchMessages\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true);\n};\n_s(ChatDisplay, \"NAyHuiepRf1huTwUaBqz+K08GqA=\");\n_c = ChatDisplay;\nexport default ChatDisplay;\nvar _c;\n$RefreshReg$(_c, \"ChatDisplay\");","map":{"version":3,"names":["React","Chat","ChatInput","axios","useState","useEffect","ChatDisplay","user","selectedMatch","userIdentification","user_id","matchedUserId","matchChatMessages","setmatchMessages","selectedUserMessages","setselectedMatchMessages","getDataMessages","response","get","params","userId","correspondingUserId","data","error","console","log","getselectedMatchMessages","messages","forEach","message","formattedMessage","first_name","url","timestamp","push","reverseMessages","sort","a","b","localeCompare"],"sources":["/Users/sethstephens/Desktop/fureverv4 2/furever/Client/src/components/ChatFeature/ChatDisplay.js"],"sourcesContent":["import React from 'react'\nimport Chat from './Chat'\nimport ChatInput from './ChatInput'\nimport axios from 'axios'\nimport {useState, useEffect} from \"react\"\nimport './ChatFeature.scss'\n\n\n// The code above defines a functional React component called ChatDisplay. The component accepts two props - user and selectedMatch. \n// The component contains two state variables - matchMessages and selectedMatchMessages - which are both set to null by default. \n// The component defines a method called getDataMessages, which makes a GET request to the 'http://localhost:8888/messages' endpoint. \n// The request includes query parameters that specify the userId and correspondingUserId. If the request is successful, \n// he response data is stored in the matchMessages state variable.\n\n\nconst ChatDisplay = ({ user , selectedMatch }) => {\n    const userIdentification = user?.user_id\n    const matchedUserId = selectedMatch?.user_id\n    const [matchChatMessages, setmatchMessages] = useState(null)\n    const [selectedUserMessages, setselectedMatchMessages] = useState(null)\n\n    const getDataMessages = async () => {\n     try {\n            const response = await axios.get('http://localhost:8888/messages', {\n                params: { userId: userIdentification, correspondingUserId: matchedUserId}\n            })\n         setmatchMessages(response.data)\n        } catch (error) {\n         console.log(error)\n     }\n    }\n\n    // The code above is fetching data from a local server. It is making a GET request to the 'messages' endpoint. \n    // The 'params' object is being used to pass in the 'userId' and 'correspondingUserId'. These two values are being used to filter \n    // the data that is being returned from the server. The 'setselectedMatchMessages' function is being used to store the data \n    // that is being returned from the server.\n\n    const getselectedMatchMessages = async () => {\n        try {\n            const response = await axios.get('http://localhost:8888/messages', {\n                params: { userId: matchedUserId , correspondingUserId: userIdentification}\n            })\n            setselectedMatchMessages(response.data)\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    useEffect(() => {\n        getDataMessages()\n        getselectedMatchMessages()\n    }, [])\n\n    const messages = []\n\n    // takes in two parameters, matchMessages and selectedMatchMessages. The function then iterates through each object in the \n    // matchMessages array and creates a new object with four key-value pairs. The keys are name, img, message, and timestamp. \n    // The values for name and img are set to the first_name and url properties of the user object, respectively. The value for \n    // message is set to the message property of the message object, and the value for timestamp is set to the timestamp property of \n    // the message object. The function does the same thing for the selectedMatchMessages array. Finally, the function sorts the messages \n    // in descending order based on the timestamp.\n\n    matchChatMessages?.forEach(message => {\n        const formattedMessage = {}\n        formattedMessage['name'] = user?.first_name\n        formattedMessage['img'] = user?.url\n        formattedMessage['message'] = message.message\n        formattedMessage['timestamp'] = message.timestamp\n        messages.push(formattedMessage)\n    })\n\n    selectedUserMessages?.forEach(message => {\n        const formattedMessage = {}\n        formattedMessage['name'] = selectedMatch?.first_name\n        formattedMessage['img'] = selectedMatch?.url\n        formattedMessage['message'] = message.message\n        formattedMessage['timestamp'] = message.timestamp\n        messages.push(formattedMessage)\n    })\n\n    const reverseMessages = messages?.sort((a,b) => a.timestamp.localeCompare(b.timestamp))\n\n    // The code below creates a ChatInput component and a Chat component. The ChatInput component has props for a user, selectedMatch, \n    // getMatchedMessages, and getselectedMatchMessages. The Chat component has a prop for descendingOrderMessages.\n    return (\n        <>\n        <Chat descendingOrderMessages={reverseMessages}/>\n     <ChatInput\n         user={user}\n         selectedMatch={selectedMatch} getMatchedMessages={getDataMessages} getselectedMatchMessages={getselectedMatchMessages}/>\n        </>\n    )\n}\n\nexport default ChatDisplay"],"mappings":"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"},"metadata":{},"sourceType":"module"}